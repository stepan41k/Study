<Window x:Class="WpfApp_LayoutDynamic.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfApp_LayoutDynamic"
        mc:Ignorable="d"
        Title="Диспетчеры компоновки" Height="450" Width="600"
        MinHeight="250" MinWidth="300">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Для верхних кнопок -->
            <RowDefinition Height="Auto"/>
            <!-- Для "Последние документы" и ссылок -->
            <RowDefinition Height="*"/>
            <!-- Для основного содержимого (файлов и цветных блоков) -->
        </Grid.RowDefinitions>

        <!-- Верхняя панель с кнопками -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10">
            <Button Content="Открыть" Margin="0,0,5,0" Click="TopCommandButton_Click"/>
            <Button Content="Сохранить" Margin="0,0,5,0" Click="TopCommandButton_Click"/>
            <Button Content="Закрыть" Margin="0,0,5,0" Click="TopCommandButton_Click"/>
            <Button Content="Обработать" Margin="0,0,5,0" Click="TopCommandButton_Click"/>
            <Button Content="О программе" Margin="0,0,5,0" Click="TopCommandButton_Click"/>
        </StackPanel>

        <!-- Секция "Последние документы" -->
        <Grid Grid.Row="1" Margin="0,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Text="Последние документы" Grid.Column="0" FontWeight="Bold" Margin="0,0,10,0" VerticalAlignment="Center"/>
            <StackPanel Orientation="Horizontal" Grid.Column="1" VerticalAlignment="Center">
                <TextBlock Text="1.txt" Margin="0,0,5,0" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" MouseLeftButtonDown="RecentDocument_MouseLeftButtonDown"/>
                <TextBlock Text="2.txt" Margin="0,0,5,0" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" MouseLeftButtonDown="RecentDocument_MouseLeftButtonDown"/>
                <TextBlock Text="3.txt" Margin="0,0,5,0" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" MouseLeftButtonDown="RecentDocument_MouseLeftButtonDown"/>
            </StackPanel>
        </Grid>

        <!-- Основная область с файлами и цветными блоками -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <!-- Для списка номеров файлов -->
                <ColumnDefinition Width="*"/>
                <!-- Для содержимого файлов (цветных блоков) -->
            </Grid.ColumnDefinitions>

            <!-- Список номеров файлов (для добавления блоков) -->
            <StackPanel Grid.Column="0" Margin="0,0,15,0">
                <TextBlock Text="1.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
                <TextBlock Text="2.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
                <TextBlock Text="3.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
                <TextBlock Text="4.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
                <TextBlock Text="5.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
                <TextBlock Text="6.txt" Margin="0,0,0,2" MouseLeftButtonDown="FileListTextBlock_MouseLeftButtonDown" Cursor="Hand"/>
            </StackPanel>

            <!-- Контейнер для динамически добавляемых/удаляемых цветных блоков -->
            <WrapPanel x:Name="ColorBlocksWrapPanel" Grid.Column="1" HorizontalAlignment="Left">
                <!-- Цветные блоки будут добавляться сюда программно -->
            </WrapPanel>
        </Grid>
    </Grid>
</Window>